{"ast":null,"code":"export default {\n  name: \"Map\",\n  data() {\n    return {};\n  },\n  mounted() {\n    let map = new BMapGL.Map('container'); // 创建Map实例\n    map.centerAndZoom(new BMapGL.Point(117.271385, 31.86216), 13); // 初始化地图,设置中心点坐标和地图级别\n    map.enableScrollWheelZoom(true); // 开启鼠标滚轮缩放\n\n    this.$request.get('/help/selectAll').then(res => {\n      res.data.filter(v => v.status === '待处理' || v.status === '进行中').forEach(v => {\n        let point = new BMapGL.Point(v.longitude, v.latitude);\n        let marker = new BMapGL.Marker(point); // 创建标注\n        map.addOverlay(marker);\n        let opts = {\n          width: 300,\n          // 信息窗口宽度\n          height: 100,\n          // 信息窗口高度\n          title: '救援信息' // 信息窗口标题\n        };\n\n        let infoWindow = new BMapGL.InfoWindow(\"<b>名称</b>：\" + v.name + \"<br/> \" + \"<b>内容</b>：\" + v.content + \"<br/>\" + \"<b style='color: red'>状态</b>：\" + v.status + \"<br/>\", opts); // 创建信息窗口对象\n        marker.addEventListener(\"click\", function () {\n          map.openInfoWindow(infoWindow, point); //开启信息窗口\n        });\n      });\n    });\n  },\n\n  methods: {}\n};","map":{"version":3,"names":["name","data","mounted","map","BMapGL","Map","centerAndZoom","Point","enableScrollWheelZoom","$request","get","then","res","filter","v","status","forEach","point","longitude","latitude","marker","Marker","addOverlay","opts","width","height","title","infoWindow","InfoWindow","content","addEventListener","openInfoWindow","methods"],"sources":["src/views/manager/Map.vue"],"sourcesContent":["<template>\r\n  <div class=\"card\">\r\n    <div id=\"container\" style=\"width: 100%; height: 700px\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Map\",\r\n  data() {\r\n    return {}\r\n  },\r\n  mounted() {\r\n    let map = new BMapGL.Map('container'); // 创建Map实例\r\n    map.centerAndZoom(new BMapGL.Point(117.271385, 31.86216), 13); // 初始化地图,设置中心点坐标和地图级别\r\n    map.enableScrollWheelZoom(true); // 开启鼠标滚轮缩放\r\n\r\n    this.$request.get('/help/selectAll').then(res => {\r\n      res.data.filter(v => v.status === '待处理' || v.status === '进行中').forEach(v => {\r\n        let point = new BMapGL.Point(v.longitude, v.latitude)\r\n        let marker = new BMapGL.Marker(point);  // 创建标注\r\n        map.addOverlay(marker);\r\n        let opts = {\r\n          width: 300,     // 信息窗口宽度\r\n          height: 100,     // 信息窗口高度\r\n          title: '救援信息', // 信息窗口标题\r\n        }\r\n        let infoWindow = new BMapGL.InfoWindow(\r\n            \"<b>名称</b>：\" + v.name + \"<br/> \" +\r\n            \"<b>内容</b>：\" + v.content + \"<br/>\" +\r\n            \"<b style='color: red'>状态</b>：\" + v.status + \"<br/>\"\r\n            ,\r\n            opts);  // 创建信息窗口对象\r\n        marker.addEventListener(\"click\", function () {\r\n          map.openInfoWindow(infoWindow, point) //开启信息窗口\r\n        })\r\n      })\r\n    })\r\n  },\r\n  methods: {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AAOA;EACAA,IAAA;EACAC,KAAA;IACA;EACA;EACAC,QAAA;IACA,IAAAC,GAAA,OAAAC,MAAA,CAAAC,GAAA;IACAF,GAAA,CAAAG,aAAA,KAAAF,MAAA,CAAAG,KAAA;IACAJ,GAAA,CAAAK,qBAAA;;IAEA,KAAAC,QAAA,CAAAC,GAAA,oBAAAC,IAAA,CAAAC,GAAA;MACAA,GAAA,CAAAX,IAAA,CAAAY,MAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAC,MAAA,cAAAD,CAAA,CAAAC,MAAA,YAAAC,OAAA,CAAAF,CAAA;QACA,IAAAG,KAAA,OAAAb,MAAA,CAAAG,KAAA,CAAAO,CAAA,CAAAI,SAAA,EAAAJ,CAAA,CAAAK,QAAA;QACA,IAAAC,MAAA,OAAAhB,MAAA,CAAAiB,MAAA,CAAAJ,KAAA;QACAd,GAAA,CAAAmB,UAAA,CAAAF,MAAA;QACA,IAAAG,IAAA;UACAC,KAAA;UAAA;UACAC,MAAA;UAAA;UACAC,KAAA;QACA;;QACA,IAAAC,UAAA,OAAAvB,MAAA,CAAAwB,UAAA,CACA,eAAAd,CAAA,CAAAd,IAAA,cACA,eAAAc,CAAA,CAAAe,OAAA,aACA,kCAAAf,CAAA,CAAAC,MAAA,YAEAQ,IAAA;QACAH,MAAA,CAAAU,gBAAA;UACA3B,GAAA,CAAA4B,cAAA,CAAAJ,UAAA,EAAAV,KAAA;QACA;MACA;IACA;EACA;;EACAe,OAAA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}